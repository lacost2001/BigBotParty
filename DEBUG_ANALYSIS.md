# –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –ò –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –ü–†–û–ë–õ–ï–ú–´ –î–û–ë–ê–í–õ–ï–ù–ò–Ø –£–ß–ê–°–¢–ù–ò–ö–û–í

## –ü—Ä–æ–±–ª–µ–º–∞
–ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≤ –∑–∞—è–≤–∫—É –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –æ—á–∫–æ–≤ —á–µ—Ä–µ–∑ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –≤ —Ç—Ä–µ–¥–µ.

## –ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞
1. **–°–∏—Å—Ç–µ–º–∞ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞—è–≤–æ–∫** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–ª–∞—Å—Å `InteractiveSubmissionSession` –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è
2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π** –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `handle_submission_message()` –≤ `ui_components.py`
3. **–ö–ª—é—á–∏ —Å–µ—Å—Å–∏–π** —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ `"{user_id}_{channel_id}"` –≥–¥–µ channel_id - —ç—Ç–æ ID —Ç—Ä–µ–¥–∞
4. **–ü–∞—Ä—Å–∏–Ω–≥ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤** –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `parse_participants_from_message()`

## –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–ª–∞–¥–µ–ª—å—Ü–∞ —Å–µ—Å—Å–∏–∏
**–ü—Ä–æ–±–ª–µ–º–∞:** –í `handle_submission_message()` –±—ã–ª–∞ —Å—Ç—Ä–æ–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–ª–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –≤–ª–∞–¥–µ–ª—å—Ü–∞ —Å–µ—Å—Å–∏–∏ –ø—Ä–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ `waiting_participants`

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –£–±—Ä–∞–Ω–∞ —É—Å–ª–æ–≤–∏–µ `and session.state == "waiting_participants"` –∏–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–ª–∞–¥–µ–ª—å—Ü–∞

### 2. –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
**–ü—Ä–æ–±–ª–µ–º–∞:** –ú–∞–ª–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –ø—Ä–æ–±–ª–µ–º —Å –ø–æ–∏—Å–∫–æ–º —Å–µ—Å—Å–∏–π

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `handle_submission_message()` –∏ `handle_participants_message()`

### 3. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ fallback –º–µ—Ö–∞–Ω–∏–∑–º–∞
**–ü—Ä–æ–±–ª–µ–º–∞:** –ï—Å–ª–∏ —Å–µ—Å—Å–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –ø–æ —Ç–æ—á–Ω–æ–º—É –∫–ª—é—á—É, —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –ø—ã—Ç–∞–ª–∞—Å—å –Ω–∞–π—Ç–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ö–∞–Ω–∏–∑–º –ø–æ–∏—Å–∫–∞ —Å–µ—Å—Å–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ prefix –∏ –∏—Ö –º–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–ª—é—á

### 4. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
**–ü—Ä–æ–±–ª–µ–º–∞:** `handle_participants_message()` –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –¥–∞–∂–µ —Ç–µ, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç —É–ø–æ–º–∏–Ω–∞–Ω–∏–π

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏–π –∏–ª–∏ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π

## –ü—Ä–∏–º–µ–Ω—ë–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –í —Ñ–∞–π–ª–µ `ui_components.py`:

1. **–°—Ç—Ä–æ–∫–∞ ~430:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–ª–∞–¥–µ–ª—å—Ü–∞ —Å–µ—Å—Å–∏–∏
2. **–°—Ç—Ä–æ–∫–∞ ~435:** –î–æ–±–∞–≤–ª–µ–Ω —É–ª—É—á—à–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫ —Å–µ—Å—Å–∏–π —Å fallback
3. **–°—Ç—Ä–æ–∫–∞ ~465:** –£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `handle_participants_message()`
4. **–°—Ç—Ä–æ–∫–∞ ~850:** –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–µ—Å—Å–∏–π

### –í —Ñ–∞–π–ª–µ `bot.py`:

1. **–°—Ç—Ä–æ–∫–∞ ~2400:** –ü–µ—Ä–µ–º–µ—â—ë–Ω –≤—ã–∑–æ–≤ `handle_submission_message()` –≤ –Ω–∞—á–∞–ª–æ `on_message()`
2. **–°—Ç—Ä–æ–∫–∞ ~2410:** –î–æ–±–∞–≤–ª–µ–Ω–æ —É–ª—É—á—à–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è fallback –º–µ—Ö–∞–Ω–∏–∑–º–∞

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç `test_sessions.py` –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª:
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Å–µ—Å—Å–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∏ –ø–æ–∏—Å–∫ —Å–µ—Å—Å–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç

–°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç `test_participants.py` –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª:
- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è —É–ø–æ–º–∏–Ω–∞–Ω–∏–π
- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è —Ñ—Ä–∞–∑—ã "—Ç–æ–ª—å–∫–æ —è"
- ‚úÖ –ê–≤—Ç–æ—Ä –≤—Å–µ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ —Å–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞** –∏ —Å–æ–∑–¥–∞–π—Ç–µ –∑–∞—è–≤–∫—É —á–µ—Ä–µ–∑ `/events_panel`
2. **–í —Ç—Ä–µ–¥–µ –∑–∞—è–≤–∫–∏** –Ω–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —É–ø–æ–º–∏–Ω–∞–Ω–∏—è–º–∏: `@user1 @user2`
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏** - –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è —Å `[PARTICIPANTS START]` –∏ `[PARTICIPANTS PARSED]`
4. **–£–±–µ–¥–∏—Ç–µ—Å—å**, —á—Ç–æ —É—á–∞—Å—Ç–Ω–∏–∫–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –∏ –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∫–Ω–æ–ø–∫–æ–π –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è

## –í–æ–∑–º–æ–∂–Ω—ã–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –≤—Å–µ –µ—â–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. **–ü—Ä–∞–≤–∞ –±–æ—Ç–∞** –≤ —Ç—Ä–µ–¥–µ - –º–æ–∂–µ—Ç –ª–∏ –æ–Ω —á–∏—Ç–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –∏ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è
2. **–°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ—Å—Å–∏–∏** - –≤ –∫–∞–∫–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å–µ—Å—Å–∏—è –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏—è
3. **ID —Ç—Ä–µ–¥–∞** - –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∫–ª—é—á —Å–µ—Å—Å–∏–∏
4. **–ò–º–ø–æ—Ä—Ç—ã –º–æ–¥—É–ª–µ–π** - –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –º–æ–¥—É–ª—å ui_components –≤ bot.py

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

–î–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É:

```python
@bot.command(name='debug_sessions')
async def debug_sessions(ctx):
    """–û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π"""
    from recruit_bot.submission_state import active_submissions
    
    if not active_submissions:
        await ctx.send("‚ùå –ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π")
        return
        
    embed = discord.Embed(title="üîç –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏", color=0x00ff00)
    for key, session in active_submissions.items():
        embed.add_field(
            name=f"–ö–ª—é—á: {key}",
            value=f"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: {session.user_id}\n–ö–∞–Ω–∞–ª: {session.channel_id}\n–°–æ—Å—Ç–æ—è–Ω–∏–µ: {session.state}",
            inline=False
        )
    
    await ctx.send(embed=embed)
```
